(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{409:function(n,e,t){n.exports=t.p+"assets/img/loading.5f56d8d1.png"},429:function(n,e,t){"use strict";t.r(e);var a=t(1),s=Object(a.a)({},(function(){var n=this._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":this.$parent.slotKey}},[n("p",[this._v("view UI 进度条\n"),n("img",{attrs:{src:t(409),alt:"solar"}}),this._v("\nloading.vue")]),this._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[this._v('<template>\n    <div class="wraps">\n        <div ref="bar" class="bar"></div>\n    </div>\n</template>\n<script setup lang=\'ts\'>\nimport { ref, onMounted } from \'vue\'\nlet speed = ref<number>(1);\nlet bar =ref<HTMLElement>();\nlet timer = ref<number>();\n\nconst  startLoading =() =>{\n    let dom = bar?.value as HTMLElement;\n    speed.value = 1;\n    timer.value = window.requestAnimationFrame(function fn(){\n        if(speed.value < 90){\n            speed.value = speed.value + 1;\n            dom.style.width = speed.value + "%";\n            timer.value = window.requestAnimationFrame(fn);\n        }else{\n            speed.value = 1\n            window.cancelAnimationFrame(timer.value);\n        }\n    })\n}\nconst endLoading =()=>{\n    let dom = bar?.value as HTMLElement;\n    window.requestAnimationFrame(()=>{\n        setTimeout(()=>{\n        speed.value = 100;\n        dom.style.width = speed.value +\'%\';\n        },1000)\n        \n    })\n}\ndefineExpose({\n    startLoading,\n    endLoading\n})\n// onMounted(()=>{\n//     startLoading()\n//     endLoading()\n// })\n<\/script>\n<style scoped>\n    \n.wraps {\n    position: fixed;\n    top: 0;\n    width: 100%;\n    height: 5px;\n   \n}\n .bar {\n        height: inherit;\n        width: 0;\n        background: blue;\n    }\n</style>\n')])])]),n("p",[this._v("main.js 调用")]),this._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[this._v("import loadingBar from './components/loading.vue'\nconst Vnode = createVNode(loadingBar)\nrender(Vnode,document.body);\nrouter.beforeEach((to, from, next) => {\n    Vnode.component?.exposed?.startLoading()\n})\nrouter.afterEach((to, from) => {\n    Vnode.component?.exposed?.endLoading()\n})\n")])])])])}),[],!1,null,null,null);e.default=s.exports}}]);